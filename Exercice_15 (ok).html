<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>jQuery : Exercice 15</title>
    <link rel="stylesheet" href="../src/styles1.css" />
    <script src="./jquery.js"></script>
    <style>
      body div {
        padding: 10px;
        width: 20px;
        height: 20px;
        position: absolute;
        background-color: red;
        z-index: 0;
      }
    </style>
  </head>
  <body>
    <div></div>
    <noscript>
      <p>Veuillez activer JavaScript</p>
    </noscript>
    <script>
      /*********************************
                ***********PRESENTATION***********
                **********************************
                	Il existe plusieurs méthodes pour connaître la dimension d'un élément ou la fixer :
                	_height() : hauteur de l'élément
                	_innerHeight() : hauteur de l'élément, padding compris.
                	_ outerHeight() : hauteur de l'élément, padding et bordure compris.
                	_ width() : largeur de l'élément.
                	_ innerWidth() : largeur de l'élément, padding compris.
                	_ outerWidth() : largeur de l'élément, padding et bordure compris.
                */

      /**********************************
                *************EXERCICES*************
                ***********************************
                Créez une page html contenant une div ayant un padding de 10px et une largeur de 20px et une hauteur de 20px. Prévoyez une couleur de fond différente pour la div.
                À la fin du chargement du document, prévoyez le script suivant :
                ** 1 **
                Toutes les secondes, la div augmente de 5px en largeur et hauteur.

                Utilisez les méthodes height(), width() et setInterval().
                */
      let bouton = document.createElement("button");
      $(bouton).html("Stop").css({
        padding: "10px",
        fontSize: "1.2em",
        borderRadius: "20px",
        border: "2px solid black",
        width: "100px",
        backgroundColor: "green",
        zIndex: 100,
        position: "absolute",
      });
      $("body").append(bouton);

      $(function () {
        let $NewDiv = $("body div");
        let change = 5;
        let padding = 10;
        let refreshRate = 10;
        let intervalId;

        intervalId = setInterval(function () {
          if (
            $NewDiv.innerHeight() >= $(window).height() * 0.5 ||
            $NewDiv.innerWidth() >= $(window).width() * 0.5 ||
            $NewDiv.innerHeight() <= 20 ||
            $NewDiv.innerWidth() <= 20
          ) {
            change = -change;
            padding = -padding;
          }
          $($NewDiv)
            .height($NewDiv.height() + change)
            .width($NewDiv.width() + change)
            .css("padding" + padding);
        }, refreshRate);

        $(bouton).click(function () {
          clearInterval(intervalId);
        });
      });

      /*
                ** 2 **
                Améliorez le code, toutes les 10 secondes, le padding augmente de 5px.

                Utilisez les méthodes css() et setInterval().
                */

      /*
                ** 3 **
                Pour l'instant, le bloc augmente sans cesse de taille. Quand le bloc a une largeur supérieure à 50% de la largeur ou une hauteur supérieure à 50% de la hauteur de la fenêtre, inverser le mouvement :
                _ toutes les secondes la largeur et la hauteur diminue de 5px
                _ toutes les 10 secondes, le padding se réduit de 5px.

                Quand la div revient à sa dimension initiale, ça augmente à nouveau.

                Utilisez les méthodes height(), innerHeight(), width(), innerWidth() et setInterval().
                */
    </script>
  </body>
</html>
